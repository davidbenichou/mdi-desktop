!function(){"use strict";var a=angular.module("mdi.desktop.menubar",[]);a.controller("mdiDesktopMenubarController",["$scope",function(a){a.openWindow=function(b,c){a.desktopCtrl.openWindow(c)}}]),a.directive("mdiDesktopMenubar",["$compile","$http",function(a,b){return{restrict:"A",replace:!0,require:"?^mdiDesktop",scope:{},controller:"mdiDesktopMenubarController",link:function(c,d,e,f){c.desktopCtrl=f,c.options=f.getOptions(),e.$observe("templateUrl",function(e){b.get(e,{cache:!0}).then(function(b){var e=a(b.data)(c);d.append(e)})})}}}])}(),function(){"use strict";var a=angular.module("mdi.desktop.taskbar",[]);a.controller("mdiDesktopTaskbarController",["$scope","$window",function(a,b){var c=this;c.canCloseFn=void 0,angular.element(b).bind("keydown",function(b){a.$apply(function(){var c=a.desktopCtrl.getKeySequence(b);"alt+d"===c&&(a.desktopShown=a.desktopCtrl.hideShowAll(),b.preventDefault())})}),a.desktopShown=!1,a.updateWindowState=function(b){return b.outOfBounds?void a.desktopCtrl.recover(b):(b.active?a.desktopCtrl.minimize(b):("fill"===b.maximized?a.desktopCtrl.maximize(b):"left"===b.maximized?a.desktopCtrl.maximizeLeft(b):"right"===b.maximized&&a.desktopCtrl.maximizeRight(b),a.desktopCtrl.clearActive(),b.active=!0,b.minimized=!1,b.zIndex=a.desktopCtrl.getNextMaxZIndex()),void(a.desktopShown&&(a.desktopShown=!1)))},a.hideShowAll=function(){a.desktopShown=a.desktopCtrl.hideShowAll()},a.close=function(b,c){a.desktopCtrl.closeWindow(c),b.stopPropagation(),b.preventDefault()},a.init=function(){c.canCloseFn=a.desktopCtrl.getOptions().canCloseFn}}]),a.directive("mdiDesktopTaskbar",["$log",function(){return{restrict:"A",replace:!0,templateUrl:"src/templates/mdi-desktop-taskbar.html",require:"?^mdiDesktop",controller:"mdiDesktopTaskbarController",scope:{windows:"="},link:function(a,b,c,d){a.desktopCtrl=d,a.options=d.getOptions(),a.init()}}}])}(),function(){"use strict";var a=angular.module("mdi.desktop.view",[]);a.directive("mdiDesktopView",["$compile","$http",function(a){return{restrict:"A",replace:!1,scope:{view:"="},link:function(b,c){if(b.view.viewDirective){var d=a("<div "+b.view.viewDirective+' view="view"></div>')(b);c.append(d)}}}}])}(),function(){"use strict";var a=angular.module("mdi.desktop.viewport",[]);a.controller("mdiDesktopViewportController",["$scope","$element","$window","$document",function(a,b,c,d){var e=this;e.getViewportDimensions=function(){return a.dimensions},e.mouseMove=function(b){a.$apply(function(){a.showFillOutline=b.pageY<=a.options.viewportTop,a.showLeftOutline=b.pageX<=0,a.showRightOutline=b.pageX>=a.dimensions.width-1})},e.mouseUp=function(){a.$apply(function(){a.showFillOutline=!1,a.showLeftOutline=!1,a.showRightOutline=!1}),d.unbind("mousemove",e.mouseMove),d.unbind("mouseup",e.mouseUp)},a.dimensions={},a.showLeftOutline=!1,a.showRightOutline=!1,a.displayViewportDimensions=!1,a.logoUrl=void 0,a.viewportMouseDown=function(a){"span"!==a.target.nodeName.toLowerCase()&&(d.on("mousemove",e.mouseMove),d.on("mouseup",e.mouseUp))},a.$watch(function(){return b[0].offsetWidth>0&&b[0].offsetHeight>0},function(){a.dimensions={height:b[0].clientHeight,width:b[0].clientWidth}}),angular.element(c).bind("resize",function(){a.$apply(function(){a.dimensions={height:b[0].clientHeight,width:b[0].clientWidth}})}),document.querySelectorAll(".desktop-viewport-container")[0].onscroll=function(a){a.preventDefault(),document.querySelectorAll(".desktop-viewport-container")[0].scrollTop=0},a.init=function(){a.displayViewportDimensions=a.options.displayViewportDimensions,a.logoUrl=a.options.logoUrl}}]),a.directive("mdiDesktopViewport",[function(){return{restrict:"A",replace:!0,templateUrl:"src/templates/mdi-desktop-viewport.html",require:"?^mdiDesktop",controller:"mdiDesktopViewportController",scope:{windows:"="},link:function(a,b,c,d){a.desktopCtrl=d,a.options=d.getOptions(),a.init()}}}])}(),function(){"use strict";var a=angular.module("mdi.desktop.window",[]);a.controller("mdiDesktopWindowController",["$scope","$rootScope","$element","$document","$window",function(a,b,c,d,e){var f=this;f.x=0,f.y=0,f.lastX=0,f.lastY=0,f.startX=0,f.startY=0,f.titleBar=void 0,f.canCloseFn=void 0,f.canNavigateFn=void 0,f.cancelEditingOnNavigation=!1,f.viewportDimensions=void 0,f.mouseMove=function(b){a.$apply(function(){return f.viewportDimensions=a.viewportCtrl.getViewportDimensions(),b.pageX<=0||b.pageX>=f.viewportDimensions.width||a.window.maximized?!1:(c.css({opacity:.5}),f.x=b.screenX-f.startX,f.y=b.screenY-f.startY,f.y=f.y>=0?f.y:0,f.y=f.y<=f.viewportDimensions.height-f.titleBar[0].offsetHeight?f.y:f.viewportDimensions.height-f.titleBar[0].offsetHeight,f.x=f.x>=-(f.titleBar[0].offsetWidth+f.titleBar[0].offsetLeft)?f.x:-(f.titleBar[0].offsetWidth+f.titleBar[0].offsetLeft),f.x=f.x<=f.viewportDimensions.width-f.titleBar[0].offsetLeft?f.x:f.viewportDimensions.width-f.titleBar[0].offsetLeft,a.window.top=f.y+"px",void(a.window.left=f.x+"px"))})},f.mouseUp=function(b){a.$apply(function(){b.pageY<=a.desktopCtrl.options.viewportTop&&a.desktopCtrl.maximize(a.window),b.pageX<=0&&a.desktopCtrl.maximizeLeft(a.window),f.viewportDimensions=a.viewportCtrl.getViewportDimensions(),b.pageX>=f.viewportDimensions.width-1&&a.desktopCtrl.maximizeRight(a.window)}),c.css({opacity:1}),d.unbind("mousemove",f.mouseMove),d.unbind("mouseup",f.mouseUp)},f.updateNavigationState=function(){if(void 0!==a.window.views){var b=a.window.views.length;a.disablePrevious=!(!a.window.views[0].active&&1!==b),a.disableNext=!(!a.window.views[b-1].active&&1!==b)}},f.isWindowInViewport=function(){a.$apply(function(){var b=0,d=0;a.window.minimized?(b=parseInt(a.window.savedPosition.top,10),d=parseInt(a.window.savedPosition.left,10)):(b=c[0].offsetTop,d=c[0].offsetLeft),b+10>=a.viewportCtrl.getViewportDimensions().height||d+60>=a.viewportCtrl.getViewportDimensions().width?(a.window.outOfBounds=!0,a.window.active=!1,a.desktopCtrl.activateForemostWindow()):a.window.outOfBounds=!1})},f.getWindow=function(){return a.window},f.setWindowTitle=function(b){a.window.title=b},f.goToPreviousView=function(){a.previousView()},f.viewIsEditing=function(){var b=!1;return angular.forEach(a.window.views,function(a){a.isEditing===!0&&(b=!0)},null),b},f.canNavigate=function(){var a=!0;return void 0!==f.canNavigateFn&&f.viewIsEditing()&&(a=f.canNavigateFn()),a},f.removeForwardViews=function(){for(var b=a.desktopCtrl.getActiveView(a.window),c=a.window.views.indexOf(b),d=a.window.views.length;d>c;d--)a.window.views.splice(d,1);f.updateNavigationState()},f.addView=function(b){f.removeForwardViews();var c=a.desktopCtrl.getActiveView(a.window);c.active=!1;var d=a.desktopCtrl.getDesktop().viewConfig,e=Object.create(d),g=angular.extend(e,b);a.window.views.push(g),f.updateNavigationState()},f.getGlobals=function(){return a.window.globals},f.firstView=function(){if(f.canNavigate()&&!a.disablePrevious){f.cancelEditingOnNavigation&&(a.desktopCtrl.getActiveView(a.window).isEditing=!1);var b=a.desktopCtrl.getActiveView(a.window);b.active=!1,a.window.views[0].active=!0,f.updateNavigationState()}},f.lastView=function(){if(f.canNavigate()&&!a.disableNext){f.cancelEditingOnNavigation&&(a.desktopCtrl.getActiveView(a.window).isEditing=!1);var b=a.desktopCtrl.getActiveView(a.window);b.active=!1,a.window.views[a.window.views.length-1].active=!0,f.updateNavigationState()}},angular.element(e).bind("resize",function(){f.isWindowInViewport()}),angular.element(e).bind("keydown",function(b){a.$apply(function(){if(a.window.active){var c=a.desktopCtrl.getKeySequence(b);"alt+left"===c&&(a.previousView(),b.preventDefault()),"alt+right"===c&&(a.nextView(),b.preventDefault()),"alt+up"===c&&(f.firstView(),b.preventDefault()),"alt+down"===c&&(f.lastView(),b.preventDefault()),"alt+l"===c&&(a.window.maximized?"right"===a.window.maximized||"fill"===a.window.maximized?a.desktopCtrl.maximizeLeft(a.window):a.desktopCtrl.restoreSavedPosition(a.window):(a.desktopCtrl.savePosition(a.window),a.desktopCtrl.maximizeLeft(a.window)),b.preventDefault()),"alt+r"===c&&(a.window.maximized?"left"===a.window.maximized||"fill"===a.window.maximized?a.desktopCtrl.maximizeRight(a.window):a.desktopCtrl.restoreSavedPosition(a.window):(a.desktopCtrl.savePosition(a.window),a.desktopCtrl.maximizeRight(a.window)),b.preventDefault())}})}),a.$watch(function(){return[c[0].clientWidth,c[0].clientHeight].join("x")},function(a){b.$broadcast("windowResize",a.split("x"))}),a.$watch("window.minimized",function(b){b&&!a.window.maximized&&a.desktopCtrl.savePosition(a.window)}),a.disablePrevious=!0,a.disableNext=!0,a.activate=function(){a.window.outOfBounds||(a.desktopCtrl.clearActive(),a.window.active=!0,a.window.zIndex=a.desktopCtrl.getNextMaxZIndex())},a.minimize=function(){a.desktopCtrl.minimize(a.window)},a.maximize=function(){a.window.maximized?(a.desktopCtrl.restoreSavedPosition(a.window),a.window.maximized=void 0):(a.desktopCtrl.savePosition(a.window),a.desktopCtrl.maximize(a.window))},a.close=function(){a.desktopCtrl.closeWindow(a.window)},a.windowTitleMouseDown=function(b){a.window.maximized||(b.preventDefault(),f.titleBar=angular.element(b.srcElement||b.target),f.x=c[0].offsetLeft,f.y=c[0].offsetTop,f.startX=b.screenX-f.x,f.startY=b.screenY-f.y,a.desktopCtrl.savePosition(a.window),d.on("mousemove",f.mouseMove),d.on("mouseup",f.mouseUp))},a.previousView=function(){if(f.canNavigate()&&!a.disablePrevious){f.cancelEditingOnNavigation&&(a.desktopCtrl.getActiveView(a.window).isEditing=!1);for(var b=0;b<a.window.views.length;b++){var c=a.window.views[b];if(c.active){c.active=!1,a.window.views[b-1].active=!0;break}}f.updateNavigationState()}},a.nextView=function(){if(f.canNavigate()&&!a.disableNext){f.cancelEditingOnNavigation&&(a.desktopCtrl.getActiveView(a.window).isEditing=!1);for(var b=0;b<a.window.views.length-1;b++){var c=a.window.views[b];if(c.active){c.active=!1,a.window.views[b+1].active=!0;break}}f.updateNavigationState()}},a.init=function(){f.canCloseFn=a.desktopCtrl.getOptions().canCloseFn,f.canNavigateFn=a.desktopCtrl.getOptions().canNavigateFn,f.cancelEditingOnNavigation=a.desktopCtrl.getOptions().cancelEditingOnNavigation,f.updateNavigationState()}}]),a.directive("mdiDesktopWindow",[function(){return{restrict:"A",replace:!0,templateUrl:"src/templates/mdi-desktop-window.html",require:["^mdiDesktop","^mdiDesktopViewport"],controller:"mdiDesktopWindowController",scope:{index:"=",window:"="},link:function(a,b,c,d){a.desktopCtrl=d[0],a.viewportCtrl=d[1],a.desktopCtrl.cascadeWindow(a.window),a.window.scope=a,a.$on("$destroy",function(){b.remove()}),a.init()}}}])}(),function(){"use strict";var a=angular.module("mdi.desktop",["ngAnimate","mdi.desktop.menubar","mdi.desktop.viewport","mdi.desktop.taskbar","mdi.desktop.window","mdi.desktop.view","mdi.resizable"]);a.service("desktopClassFactory",function(){function a(){this.allowDirtyClose=!1,this.allowInvalidClose=!1,this.cancelEditingOnNavigation=!1,this.canCloseFn=void 0,this.canNavigateFn=void 0,this.displayViewportDimensions=!1,this.enableAnimation=!0,this.enableWindowCascading=!0,this.logoUrl=void 0,this.menubarHeight=32,this.menubarTemplateUrl=void 0,this.showLaunchMenu=!1}var b={createDesktop:function(){var a=new c;return a}},c=function(){this.options=new a,this.windowConfig=d,this.viewConfig=e},d={active:!0,bottom:"auto",globals:void 0,height:"400px",isDirty:!1,isInvalid:!1,left:0,maximized:void 0,minHeight:"200px",minimized:!1,minWidth:"200px",outOfBounds:!1,savedPosition:{},right:"auto",scope:void 0,title:"",top:0,width:"400px",views:[],zIndex:-1},e={active:!0,entities:void 0,entityIndex:0,isDirty:!1,isEditing:!1,isInvalid:!1,viewDirective:void 0};return b}),a.controller("mdiDesktopController",["$rootScope","$scope","$window","$animate","desktopClassFactory",function(a,b,c,d,e){function f(a){return window.event&&a.preventDefault(),!0}var g=this;g.minimizeAll=!1,g.desktop=e.createDesktop(),g.options=void 0,g.minWindowCascadePosition=40,g.maxWindowCascadePosition=100,g.lastWindowCascadePosition={top:g.minWindowCascadePosition,left:g.minWindowCascadePosition},g.options=angular.extend(g.desktop.options,b.mdiDesktop),g.shiftPressed=!1,g.altPressed=!1,g.xPressed=!1,g.keyboardMap=["","","","CANCEL","","","HELP","","BACK_SPACE","TAB","","","CLEAR","ENTER","RETURN","","SHIFT","CONTROL","ALT","PAUSE","CAPS_LOCK","KANA","EISU","JUNJA","FINAL","HANJA","","ESCAPE","CONVERT","NONCONVERT","ACCEPT","MODECHANGE","SPACE","PAGE_UP","PAGE_DOWN","END","HOME","LEFT","UP","RIGHT","DOWN","SELECT","PRINT","EXECUTE","PRINTSCREEN","INSERT","DELETE","","0","1","2","3","4","5","6","7","8","9","COLON","SEMICOLON","LESS_THAN","EQUALS","GREATER_THAN","QUESTION_MARK","AT","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","WIN","","CONTEXT_MENU","","SLEEP","NUMPAD0","NUMPAD1","NUMPAD2","NUMPAD3","NUMPAD4","NUMPAD5","NUMPAD6","NUMPAD7","NUMPAD8","NUMPAD9","MULTIPLY","ADD","SEPARATOR","SUBTRACT","DECIMAL","DIVIDE","F1","F2","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12","F13","F14","F15","F16","F17","F18","F19","F20","F21","F22","F23","F24","","","","","","","","","NUM_LOCK","SCROLL_LOCK","WIN_OEM_FJ_JISHO","WIN_OEM_FJ_MASSHOU","WIN_OEM_FJ_TOUROKU","WIN_OEM_FJ_LOYA","WIN_OEM_FJ_ROYA","","","","","","","","","","CIRCUMFLEX","EXCLAMATION","DOUBLE_QUOTE","HASH","DOLLAR","PERCENT","AMPERSAND","UNDERSCORE","OPEN_PAREN","CLOSE_PAREN","ASTERISK","PLUS","PIPE","HYPHEN_MINUS","OPEN_CURLY_BRACKET","CLOSE_CURLY_BRACKET","TILDE","","","","","VOLUME_MUTE","VOLUME_DOWN","VOLUME_UP","","","","","COMMA","","PERIOD","SLASH","BACK_QUOTE","","","","","","","","","","","","","","","","","","","","","","","","","","","OPEN_BRACKET","BACK_SLASH","CLOSE_BRACKET","QUOTE","","META","ALTGR","","WIN_ICO_HELP","WIN_ICO_00","","WIN_ICO_CLEAR","","","WIN_OEM_RESET","WIN_OEM_JUMP","WIN_OEM_PA1","WIN_OEM_PA2","WIN_OEM_PA3","WIN_OEM_WSCTRL","WIN_OEM_CUSEL","WIN_OEM_ATTN","WIN_OEM_FINISH","WIN_OEM_COPY","WIN_OEM_AUTO","WIN_OEM_ENLW","WIN_OEM_BACKTAB","ATTN","CRSEL","EXSEL","EREOF","PLAY","ZOOM","","PA1","WIN_OEM_CLEAR",""],g.getDesktop=function(){return g.desktop},g.getOptions=function(){return b.options},g.getWindows=function(){return b.windows},g.getNextMaxZIndex=function(){for(var a,c=0,d=b.windows.length-1;d>=0;d--)a=b.windows[d].zIndex,a>c&&(c=a);return++c},g.clearActive=function(){angular.forEach(b.windows,function(a){a.active=!1})},g.getActiveWindow=function(){var a=null;return angular.forEach(b.windows,function(b){b.active===!0&&(a=b)}),a},g.getActiveView=function(a){var b=null;return angular.forEach(a.views,function(a){a.active===!0&&(b=a)}),b},g.allWindowsAreMinimized=function(){var a=!0;return angular.forEach(b.windows,function(b){b.minimized||(a=!1)}),a},g.hideShowAll=function(){return g.minimizeAll=g.allWindowsAreMinimized()?!1:!g.minimizeAll,angular.forEach(b.windows,function(a){a.active=!1,a.minimized=g.minimizeAll}),g.activateForemostWindow(),g.minimizeAll},g.openWindow=function(a){g.clearActive();var c=g.configureWindow(a);c.views=g.configureViews(a),b.windows.push(c)},g.configureWindow=function(c){var d=Object.create(g.desktop.windowConfig);return d.savedPosition=Object.create({top:0,left:0,right:0,bottom:0,height:0,width:0}),d.zIndex=g.getNextMaxZIndex(),d.globals=angular.extend({},a.$eval(b.options.globals)),angular.extend(d,c)},g.configureViews=function(a){var b=[];return angular.forEach(a.views,function(a){var c=Object.create(g.desktop.viewConfig),d=angular.extend(c,a);b.push(d)}),b},g.closeWindow=function(a){return!g.options.allowDirtyClose&&a.isDirty?(alert("Unsaved Changes. Save changes before closing window."),!1):!g.options.allowInvalidClose&&a.isInvalid?(alert("Data is invalid. Correct Invalid data before closing window."),!1):void 0===g.options.canCloseFn?(b.windows.splice(b.windows.indexOf(a),1),g.activateForemostWindow(),!0):g.options.canCloseFn(a)?(b.windows.splice(b.windows.indexOf(a),1),a.scope.$destroy(),g.activateForemostWindow(),!0):!1},g.activateForemostWindow=function(){for(var a=void 0,c=0;c<b.windows.length;c++)!(void 0===a||b.windows[c].zIndex>a.zIndex)||b.windows[c].minimized||b.windows[c].outOfBounds||(a=b.windows[c]);a&&(a.active=!0)},g.activateNextWindow=function(a){if(!(b.windows.length<=1)){for(var c=b.windows.slice(a),d=b.windows.slice(0,a-1),e=c.concat(d),f=void 0,h=0;h<e.length;h++)e[h].minimized||e[h].outOfBounds||f||(f=e[h]);f&&(g.clearActive(),f.zIndex=g.getNextMaxZIndex(),f.active=!0)}},g.activatePreviousWindow=function(a){if(!(b.windows.length<=1)){for(var c=b.windows.slice(a),d=b.windows.slice(0,a-1),e=c.concat(d),f=void 0,h=e.length-1;h>=0;h--)e[h].minimized||e[h].outOfBounds||f||(f=e[h]);f&&(g.clearActive(),f.zIndex=g.getNextMaxZIndex(),f.active=!0)}},g.minimize=function(a){a.active=!1,a.minimized=!0,g.activateForemostWindow()},g.maximize=function(a){a.top=0,a.left=0,a.right=0,a.bottom=0,a.height="auto",a.width="100%",a.maximized="fill"},g.maximizeLeft=function(a){a.split=!0,a.top=0,a.left=0,a.bottom=0,a.width="50%",a.height="auto",a.maximized="left"},g.maximizeRight=function(a){a.top=0,a.left="50%",a.right=0,a.bottom=0,a.width="50%",a.height="auto",a.maximized="right"},g.recover=function(a){a.active=!0,a.outOfBounds=!1,a.minimized=!1,a.zIndex=g.getNextMaxZIndex(),g.cascadeWindow(a),g.clearActive(),g.activateForemostWindow()},g.restoreSavedPosition=function(a){g.clearActive(),a.top=a.savedPosition.top,a.left=a.savedPosition.left,a.right=a.savedPosition.right,a.bottom=a.savedPosition.bottom,a.height=a.savedPosition.height,a.width=a.savedPosition.width,a.maximized=void 0,a.minimized=void 0,a.active=!0,a.minimized=!1,a.zIndex=g.getNextMaxZIndex()},g.savePosition=function(a){a.savedPosition.top=a.top,a.savedPosition.left=a.left,a.savedPosition.right=a.right,a.savedPosition.bottom=a.bottom,a.savedPosition.height=a.height,a.savedPosition.width=a.width},g.cascadeWindow=function(a){b.options.enableWindowCascading&&(g.lastWindowCascadePosition.top+=10,g.lastWindowCascadePosition.left+=10,g.lastWindowCascadePosition.top>g.maxWindowCascadePosition&&(g.lastWindowCascadePosition.top=g.minWindowCascadePosition),g.lastWindowCascadePosition.left>g.maxWindowCascadePosition&&(g.lastWindowCascadePosition.left=g.minWindowCascadePosition),a.top=g.lastWindowCascadePosition.top+"px",a.left=g.lastWindowCascadePosition.left+"px")},g.getKeySequence=function(a){var b=[];a.shiftKey&&b.push("shift"),a.ctrlKey&&b.push("ctrl"),a.altKey&&b.push("alt"),a.metaKey&&b.push("meta");var c=a.keyCode||a.which;return c&&b.push(g.keyboardMap[c].toLowerCase()),b.join("+")},angular.element(c).bind("keydown",function(a){b.$apply(function(){var c=g.getKeySequence(a);if("alt+m"===c){var d=g.getActiveWindow();if(null===d)return;d.maximized?"right"===d.maximized||"left"===d.maximized?g.maximize(d):g.restoreSavedPosition(d):(g.savePosition(d),g.maximize(d)),a.preventDefault()}if("alt+n"===c){var d=g.getActiveWindow();if(null===d||d.minimized)return;g.minimize(d),a.preventDefault()}if("alt+w"===c){var e=b.windows.indexOf(g.getActiveWindow());g.activateNextWindow(e+1),a.preventDefault()}if("shift+alt+w"===c){var e=b.windows.indexOf(g.getActiveWindow());g.activatePreviousWindow(e+1),a.preventDefault()}if("shift+alt+x"===c&&!(g.shiftPressed&&g.altPressed&&g.xPressed)){var d=g.getActiveWindow();if(!d)return;g.closeWindow(d),a.preventDefault()}a.shiftKey&&(g.shiftPressed=!0),a.altKey&&(g.altPressed=!0),88===a.keyCode&&(g.xPressed=!0)})}),angular.element(c).bind("keyup",function(a){b.$apply(function(){a.shiftKey&&(g.shiftPressed=!1),a.altKey&&(g.altPressed=!1),88===a.keyCode&&(g.xPressed=!1)})}),document.onselectstart=f,b.options=g.options,b.options.viewportTop=void 0!==b.options.menubarTemplateUrl?b.options.menubarHeight+1:0,b.windows=[],b.logoUrl=b.options.logoUrl,d.enabled(b.options.enableAnimation)}]),a.directive("mdiDesktop",["$compile",function(){return{restrict:"A",templateUrl:"src/templates/mdi-desktop.html",scope:{mdiDesktop:"="},replace:!0,controller:"mdiDesktopController"}}])}(),function(){"use strict";var a=angular.module("mdi.resizable",[]);a.controller("mdiResizableController",["$scope",function(){}]),a.directive("mdiResizable",["$document",function(a){return{restrict:"A",replace:!1,scope:{window:"=",maximized:"=",direction:"@"},link:function(b,c){var d,e,f,g,h,i,j,k,l,m=0,n=0,o=0,p=0,q=0,r=0;c.bind("mousedown",function(c){b.maximized||(c.preventDefault(),n=c.clientY,m=c.clientX,q=parseInt(b.window.height,10),r=parseInt(b.window.width,10),l=u(),a.on("mousemove",s),a.on("mouseup",t))});var s=function(a){b.$apply(function(){var c=a.pageY-n,q=a.pageX-m,r=c-p,s=q-o;p=c,o=q,d=parseInt(b.window.height,10),e=parseInt(b.window.width,10),f=parseInt(b.window.top,10),g=parseInt(b.window.left,10),h=parseInt(b.window.right,10),i=parseInt(b.window.bottom,10),j=parseInt(b.window.minHeight,10),k=parseInt(b.window.minWidth,10),b.direction.indexOf("w")>-1&&(k>e-s&&(m-=s-(s=e-k)),0>g+s&&(m-=s-(s=0-g)),b.window.left=g+s+"px",b.window.width=e-s+"px"),b.direction.indexOf("n")>-1&&(j>d-r&&(n-=r-(r=d-j)),0>f+r&&(n-=r-(r=0-f)),b.window.top=f+r+"px",b.window.height=d-r+"px"),b.direction.indexOf("e")>-1&&(k>e+s&&(m-=s-(s=k-e)),g+e+s>l[0].offsetWidth&&(m-=s-(s=l[0].offsetWidth-(g+e))),b.window.width=e+s+"px"),b.direction.indexOf("s")>-1&&(j>d+r&&(n-=r-(r=j-d)),f+d+r>l[0].offsetHeight&&(n-=r-(r=l[0].offsetHeight-(f+d))),b.window.height=d+r+"px")})},t=function(){m=0,n=0,o=0,p=0,a.unbind("mousemove",s),a.unbind("mouseup",t)},u=function(){return angular.element(document.querySelectorAll(".desktop-viewport-container")[0])}}}}])}(),angular.module("mdi.desktop").run(["$templateCache",function(a){"use strict";a.put("src/templates/mdi-desktop-taskbar.html",'<div class="desktop-taskbar-container">\r\n    <div class="desktop-taskbar-launch-menu" data-ng-if="options.showLaunchMenu">\r\n        <div class="desktop-taskbar-launch-button">\r\n            <span class="desktop-icon-windows8"></span>\r\n        </div>\r\n    </div>\r\n    <div class="desktop-taskbar-list" data-ng-class="{\'desktop-taskbar-list-offset\': options.showLaunchMenu}">\r\n        <ul>\r\n            <li class="am-fade-and-scale desktop-text"\r\n                data-ng-repeat="window in windows"\r\n                data-ng-click="updateWindowState(window)">\r\n                <div class="desktop-relative desktop-taskbar-list-item" data-ng-class="{\'desktop-active-taskbar-list-item\': window.active, \'desktop-minimized-taskbar-list-item\': window.minimized, \'desktop-taskbar-list-item-recover\': window.outOfBounds}">\r\n                    <div class="desktop-taskbar-list-item-title">\r\n                        <span>{{window.title}}</span>\r\n                    </div>\r\n                    <i class="desktop-icon-close desktop-taskbar-list-item-close" data-ng-class="{\'desktop-taskbar-list-item-close-minimized\': window.minimized}" data-ng-click="close($event, window)"></i>\r\n                </div>\r\n            </li>\r\n        </ul>\r\n    </div>\r\n    <div class="desktop-taskbar-hide">\r\n        <div class="desktop-taskbar-hide-button" data-ng-click="hideShowAll()" data-ng-attr-title="{{ desktopShown ? \'Restore All Windows - [Alt + D]\' : \'Hide All Windows - [Alt + D]\' }}">\r\n\r\n        </div>\r\n    </div>\r\n</div>'),a.put("src/templates/mdi-desktop-viewport.html",'<div class="desktop-viewport-container" data-ng-style="{\'top\': options.viewportTop + \'px\' }" data-ng-mousedown="viewportMouseDown($event)">\r\n    <span class="desktop-viewport-dimensions desktop-text" data-ng-show="displayViewportDimensions">{{dimensions.height}} x {{dimensions.width}}</span>\r\n    <div data-ng-repeat="window in windows" class="am-fade-and-scale">\r\n        <div data-mdi-desktop-window data-index="$index" data-window="window"></div>\r\n    </div>\r\n    <div class="desktop-viewport-fill-outline" data-ng-show="showFillOutline"></div>\r\n    <div class="desktop-viewport-left-outline" data-ng-show="showLeftOutline"></div>\r\n    <div class="desktop-viewport-right-outline" data-ng-show="showRightOutline"></div>\r\n</div>'),a.put("src/templates/mdi-desktop-window.html","<div class=\"desktop-window-container\"\r\n     data-ng-class=\"{'desktop-window-active': window.active, 'desktop-window-maximized': window.maximized}\"\r\n     data-ng-style=\"{'z-index': window.zIndex, 'top': window.top, 'left': window.left, 'right': window.right, 'bottom': window.bottom, 'height': window.height, 'width': window.width, 'min-height': window.minHeight, 'minWidth': window.minWidth}\"\r\n     data-ng-mousedown=\"activate($event)\"\r\n     data-ng-hide=\"window.minimized\">\r\n    <div class=\"desktop-window-header\" data-ng-class=\"{'desktop-window-maximized': window.maximized, 'desktop-window-opacity': !window.active}\">\r\n        <div class=\"desktop-window-navigation\">\r\n            <div class=\"desktop-btn-group desktop-btn-group-xs desktop-window-navigation-button-group\">\r\n"+'                <button type="button" class="desktop-btn desktop-btn-default" title="Go Back One View - [Alt + Left]" tabindex="-1" data-ng-disabled="disablePrevious" data-ng-click="previousView()">\r\n                    <span class="desktop-icon-arrow-left2 custom-nav-button"></span>\r\n                </button>\r\n                <button type="button" class="desktop-btn desktop-btn-default custom-nav-button" title="Go Forward One View - [Alt + Right]" tabindex="-1" data-ng-disabled="disableNext" data-ng-click="nextView()">\r\n                    <span class="desktop-icon-arrow-right2"></span>\r\n                </button>\r\n            </div>\r\n        </div>\r\n        <div class="desktop-window-title" data-ng-dblclick="maximize()" data-ng-mousedown="windowTitleMouseDown($event)">\r\n            <div class="desktop-click-through">\r\n                <div class="desktop-text">{{window.title}}</div>\r\n            </div>\r\n        </div>\r\n        <div class="desktop-window-action">\r\n            <div class="desktop-btn-group desktop-btn-group-xs desktop-window-navigation-button-group">\r\n                <button type="button" class="desktop-btn desktop-btn-default minimize" title="Minimize - [Alt + N]" data-ng-click="minimize()" tabindex="-1">\r\n                    <span class="desktop-icon-minus"></span>\r\n                </button>\r\n                <button type="button" class="desktop-btn desktop-btn-default maximize" data-ng-attr-title="{{ window.maximized ? \'Restore Window\' : \'Maximize Window - [Alt + M]\' }}" data-ng-click="maximize()" tabindex="-1">\r\n                    <span data-ng-class="{\'desktop-icon-expand\': !window.maximized, \'desktop-icon-contract\': window.maximized}"></span>\r\n                </button>\r\n                <button type="button" class="desktop-btn desktop-btn-default" data-ng-class="{\'desktop-window-close-button\': window.active}" title="Close Window - [Alt + SHIFT + X]" data-ng-click="close()" tabindex="-1">\r\n                    <span class="desktop-icon-close"></span>\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <fieldset data-ng-disabled="!window.active" class="desktop-window-fieldset" data-ng-class="{\'desktop-window-opacity\': !window.active}">\r\n        <div class="desktop-window-content">\r\n            <div data-ng-repeat="view in window.views">\r\n                <div data-mdi-desktop-view view="view" data-ng-show="view.active"></div>\r\n            </div>\r\n        </div>\r\n    </fieldset>\r\n    <div class="desktop-window-statusbar" data-ng-class="{\'desktop-window-maximized\': window.maximized, \'desktop-window-opacity\': !window.active}">\r\n        <div class="desktop-window-statusbar-container">\r\n            <span class="desktop-icon-info" data-ng-class="{\'is-dirty-icn\': window.isDirty, \'desktop-display-none\': !window.isDirty}"></span>\r\n            <span class="desktop-icon-spam" data-ng-class="{\'is-invalid-icn\': window.isInvalid, \'desktop-display-none\': !window.isInvalid}"></span>\r\n        </div>\r\n    </div>\r\n    <span class="desktop-window-resizable-handle desktop-window-resizable-nw" data-mdi-resizable data-window="window" data-ng-show="!window.maximized" data-direction="nw"></span>\r\n    <span class="desktop-window-resizable-handle desktop-window-resizable-ne" data-mdi-resizable data-window="window" data-ng-show="!window.maximized" data-direction="ne"></span>\r\n    <span class="desktop-window-resizable-handle desktop-window-resizable-sw" data-mdi-resizable data-window="window" data-ng-show="!window.maximized" data-direction="sw"></span>\r\n    <span class="desktop-window-resizable-handle desktop-window-resizable-se" data-mdi-resizable data-window="window" data-ng-show="!window.maximized" data-direction="se"></span>\r\n    <span class="desktop-window-resizable-handle desktop-window-resizable-n" data-mdi-resizable data-window="window" data-ng-show="!window.maximized" data-direction="n"></span>\r\n    <span class="desktop-window-resizable-handle desktop-window-resizable-s" data-mdi-resizable data-window="window" data-ng-show="!window.maximized" data-direction="s"></span>\r\n    <span class="desktop-window-resizable-handle desktop-window-resizable-w" data-mdi-resizable data-window="window" data-ng-show="!window.maximized" data-direction="w"></span>\r\n    <span class="desktop-window-resizable-handle desktop-window-resizable-e" data-mdi-resizable data-window="window" data-ng-show="!window.maximized" data-direction="e"></span>\r\n</div>'),a.put("src/templates/mdi-desktop.html",'<div class="desktop-wrapper">\r\n    <style>\r\n\r\n    </style>\r\n\r\n    <div class="desktop-menubar-container" data-ng-style="{\'height\': options.menubarHeight + \'px\'}">\r\n        <div data-mdi-desktop-menubar windows="windows" data-template-url="{{options.menubarTemplateUrl}}" data-ng-if="options.menubarTemplateUrl != undefined"></div>\r\n    </div>\r\n\r\n    <div data-mdi-desktop-viewport windows="windows"></div>\r\n\r\n    <div data-mdi-desktop-taskbar windows="windows"></div>\r\n\r\n    <img class="desktop-viewport-logo" data-ng-src="{{logoUrl}}" data-ng-show="logoUrl" alt="">\r\n</div>')}]);